-[ RECORD 1 ]--+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
pg_get_viewdef |  SELECT service_requests.id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |     service_requests.service_domain_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
               |     service_requests.service_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
               |     service_requests.subject,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      +
               |     service_requests.description,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
               |     service_requests.status_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    +
               |     service_requests.priority_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
               |     service_requests.creator_group_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     service_requests.created_by,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
               |     service_requests.updated_by,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
               |     service_requests.executor_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
               |     service_requests.executor_group_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            +
               |     service_requests.sla_rule_id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
               |     service_requests.response_time,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
               |     service_requests.tto,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
               |     service_requests.ttr,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          +
               |     service_requests.planned_start,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                +
               |     service_requests.planned_end,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
               |     service_requests.actual_execution_start,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |     service_requests.actual_execution_end,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         +
               |     service_requests.created_at,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
               |     service_requests.updated_at,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 17 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_17,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 6 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_6,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 7 THEN service_request_custom_fields.value::timestamp without time zone                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  +
               |             ELSE NULL::timestamp without time zone                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 +
               |         END) AS cf_7,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 10 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_10,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 12 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_12,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 13 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_13,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 14 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_14,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 5 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_5,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 15 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_15,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 16 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_16,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |     max(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |         CASE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       +
               |             WHEN service_request_custom_fields.field_id = 1 THEN service_request_custom_fields.value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
               |             ELSE NULL::text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        +
               |         END) AS cf_1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               +
               |    FROM service_requests                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           +
               |      LEFT JOIN service_request_custom_fields ON service_requests.id = service_request_custom_fields.service_request_id                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             +
               |   GROUP BY service_requests.id, service_requests.service_domain_id, service_requests.service_id, service_requests.subject, service_requests.description, service_requests.status_id, service_requests.priority_id, service_requests.creator_group_id, service_requests.created_by, service_requests.updated_by, service_requests.executor_id, service_requests.executor_group_id, service_requests.sla_rule_id, service_requests.response_time, service_requests.tto, service_requests.ttr, service_requests.planned_start, service_requests.planned_end, service_requests.actual_execution_start, service_requests.actual_execution_end, service_requests.created_at, service_requests.updated_at;

